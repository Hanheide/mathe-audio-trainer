<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mathe Audio Trainer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="card">
    <h1>Mathe Audio Trainer</h1>

    <section class="settings">
      <label>
        Modus:
        <select id="mode">
          <option value="add">Addition</option>
          <option value="sub">Subtraktion</option>
          <option value="mul">Multiplikation</option>
          <option value="div">Division</option>
          <option value="addsub">Addition + Subtraktion</option>
          <option value="muldiv">Multiplikation + Division</option>
        </select>
      </label>

      <label>
        Zahlenbereich:
        <select id="range">
          <option value="10">0‚Äì10</option>
          <option value="20">0‚Äì20</option>
          <option value="50">0‚Äì50</option>
          <option value="100">0‚Äì100</option>
        </select>
      </label>
    </section>

    <p id="status">Dr√ºcke Start.</p>

    <input id="answer" type="text" placeholder="Ergebnis eingeben" disabled />
    <button id="start">Start</button>
    <button id="repeat" disabled>Wiederholen</button>

    <h2>üèÜ Bestenliste</h2>
    <ol id="leaderboard"></ol>
  </main>

  <!-- üî• FIREBASE + FIRESTORE -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
    import {
      getFirestore,
      collection,
      addDoc,
      getDocs,
      query,
      where,
      orderBy,
      limit,
      serverTimestamp
    } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBw0be3M9Sq1ADmwpG94kKpt5NOzRFANXg",
      authDomain: "mathe-audio-trainer-web.firebaseapp.com",
      projectId: "mathe-audio-trainer-web",
      storageBucket: "mathe-audio-trainer-web.firebasestorage.app",
      messagingSenderId: "711425057839",
      appId: "1:711425057839:web:eb7ca71c90aeac3ece12da"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // global f√ºr app.js
    window.db = db;
    window.fs = {
      collection,
      addDoc,
      getDocs,
      query,
      where,
      orderBy,
      limit,
      serverTimestamp
    };

    console.log("üî• Firebase bereit");
  </script>

  <script src="app.js"></script>
</body>
</html>
